/* thirukkural.gokulnath.com 2016-08-21 */
!function(){"use strict";var a=angular.module("thirukkuralApp",["ui.router","ui.bootstrap","ui.utils","ngLocalize","angular-loading-bar","ngCookies"]),b=function(a,b){a.state("home",{url:"/",templateUrl:"app/home/home.html",controller:"homeController",controllerAs:"home"}).state("thirukkuralsbychapters",{url:"/thirukkuralchapters/:index/thirukkurals",templateUrl:"app/home/home.html",controller:"homeController",controllerAs:"home"}).state("chapters",{url:"/thirukkuralchapters/:index",templateUrl:"app/chapters/chapters.html",controller:"chaptersController",controllerAs:"vm"}).state("sections",{url:"/thirukkuralsections/:index",templateUrl:"app/sections/sections.html",controller:"sectionsController",controllerAs:"vm"}).state("sectionchapters",{url:"/thirukkuralsections/:index/chapters",templateUrl:"app/chapters/chapters.html",controller:"sectionChaptersController",controllerAs:"vm"}).state("chaptergroups",{url:"/thirukkuralchaptergroups/:index",templateUrl:"app/chaptergroups/chaptergroups.html",controller:"chapterGroupsController",controllerAs:"vm"}).state("chaptergroupchapters",{url:"/thirukkuralchaptergroups/:index/chapters",templateUrl:"app/chapters/chapters.html",controller:"chapterGroupChaptersController",controllerAs:"vm"}).state("search",{url:"/search",templateUrl:"app/search/search.html",controller:"searchController",controllerAs:"vm"}),b.otherwise("/")},c=function(a){return function(b){return a.trustAsHtml(b)}};a.config(["$stateProvider","$urlRouterProvider",b]),a.filter("renderHtml",["$sce",c]),a.directive("script",function(){return{restrict:"E",scope:!1,link:function(a,b,c){if("text/javascript-lazy"===c.type){var d=b.text(),e=new Function(d);e()}}}}),a.directive("reBind",function(){return function(a,b){$(b).bind("blur",function(){var c=angular.element($(b)).scope();a.$apply(function(){c.searchEntity.SearchTamilText=$(b).val().trim()})})}}),a.directive("highLight",function(a){return{restrict:"A",link:function(b,c,d){console.log("entering highlight..."),a(function(){console.log(b.SearchText),c.highlight(b.SearchText)})}}}),a.value("localeConf",{basePath:"assets/languages",defaultLocale:"tamil",sharedDictionary:"common",fileExtension:".lang.json",persistSelection:!0,cookieName:"COOKIE_LOCALE_LANG",observableAttrs:new RegExp("^data-(?!ng-|i18n)"),delimiter:"::"}),a.value("localeSupported",["english","tamil"]),a.run(["$state","$rootScope",function(a,b){b.$state=a}]),a.config(["cfpLoadingBarProvider",function(a){}])}(),function(){"use strict";var a=function(a,b,c,d,e){var f=this,g=function(a){f.ThirukkuralChapterGroups=a},h=function(a){f.ErrorMessage="An error occurred!"},i=function(){j()},j=function(){e.GetThirukkuralChapterGroups(null).then(g,h)};i()};angular.module("thirukkuralApp").controller("chapterGroupsController",a),a.$inject=["$scope","$stateParams","$state","thirukkuralsUtil","thirukkuralsRepository"]}(),function(){"use strict";var a=function(a,b,c,d,e){var f=this,g=function(a){f.ThirukkuralChapterGroup=a},h=function(a){f.ThirukkuralChapters=a},i=function(a){f.ErrorMessage="An error occurred!"},j=function(){var a=void 0==b.index?1:b.index;k(a)},k=function(a){e.GetThirukkuralChapterGroups(a).then(g,i),e.GetThirukkuralChaptersByChapterGroup(a).then(h,i)};f.HasSection=!1,f.HasChapterGroup=!0,j()};angular.module("thirukkuralApp").controller("chapterGroupChaptersController",a),a.$inject=["$scope","$stateParams","$state","thirukkuralsUtil","thirukkuralsRepository"]}(),function(){"use strict";var a=function(a,b,c,d,e){var f=this,g=function(a){f.ThirukkuralChapters=a},h=function(a){f.ErrorMessage="An error occurred!"},i=function(){j()},j=function(){e.GetThirukkuralChapters(null).then(g,h)};f.HasSection=!1,f.HasChapterGroup=!1,i()};angular.module("thirukkuralApp").controller("chaptersController",a),a.$inject=["$scope","$stateParams","$state","thirukkuralsUtil","thirukkuralsRepository"]}(),function(){"use strict";var a=function(a,b,c,d,e){var f=this,g=function(a){d.Log(a),f.ThirukkuralSection=a},h=function(a){f.ThirukkuralChapters=a},i=function(a){f.ErrorMessage="An error occurred!"},j=function(){var a=void 0==b.index?1:b.index;k(a)},k=function(a){e.GetThirukkuralSections(a).then(g,i),e.GetThirukkuralChaptersBySection(a).then(h,i)};f.HasSection=!0,f.HasChapterGroup=!1,j()};angular.module("thirukkuralApp").controller("sectionChaptersController",a),a.$inject=["$scope","$stateParams","$state","thirukkuralsUtil","thirukkuralsRepository"]}(),function(){"use strict";var a=function(a,b,c,d,e,f,g){function h(a){k.Thirukkurals=a}function i(a){k.ThirukkuralChapter=a,k.ThirukkuralChapterIndexAndName=a.Index+". "+a.Tamil}function j(){a.windowWidth="innerWidth"in window?window.innerWidth:document.documentElement.offsetWidth,a.windowWidth>1e3?k.maxSize=22:a.windowWidth>800?k.maxSize=15:a.windowWidth>600?k.maxSize=8:a.windowWidth>400?k.maxSize=5:k.maxSize=1,a.$$phase||a.$apply()}var k=this,l=function(a){k.ErrorMessage="An error occurred!"},m=function(){void 0==b.index?c.go("thirukkuralsbychapters",{index:1}):(k.maxSize=20,k.bigTotalItems=1330,k.bigCurrentPage=b.index,o(),j())},n=angular.element(g);n.bind("resize",j);var o=function(){e.GetThirukkuralsByChapters(k.bigCurrentPage).then(h,l),e.GetThirukkuralChapters(k.bigCurrentPage).then(i,l)};k.setPage=function(a){k.bigCurrentPage=a},k.pageChanged=function(){c.go("thirukkuralsbychapters",{index:k.bigCurrentPage})},m()};angular.module("thirukkuralApp").controller("homeController",a),a.$inject=["$scope","$stateParams","$state","thirukkuralsUtil","thirukkuralsRepository","$rootScope","$window"]}(),function(){"use strict";var a=function(a,b,c,d){function e(a){b.setLocale(a),f.LocaleCode=a}var f=this,g=function(){var a=d.get("language");a?e(a):(d.put("language","tamil"),e("tamil"))};f.AllowedLanguages=[{code:"tamil",value:"Tamil"},{code:"english",value:"English & Tamil"}],f.SetLocale=function(a){e(a),d.put("language",a),c.Log("language changed: "+a)},f.IsTamil=function(){return"tamil"==f.LocaleCode},f.IsActiveMenu=function(b){var c=null;return b.forEach(function(b){return a.$state.$current.name===b?void(c="active"):void 0}),c},g()};angular.module("thirukkuralApp").controller("layoutController",a),a.$inject=["$rootScope","locale","thirukkuralsUtil","$cookies"]}(),function(){"use strict";var a=function(a,b,c,d,e,f){var g=this;g.HasRecords=!0;var h=function(a){g.Thirukkurals=a,a.length>0?g.HasRecords=!0:g.HasRecords=!1},i=function(a){g.ErrorMessage="An error occurred!"},j=function(){g.IsTransliterationEnabled=!0,g.SearchText=""};g.EnableTransliterate=function(a){a.IsTransliterationEnabled?(g.IsTransliterationEnabled=!0,a.SearchEnglishText=""):(a.SearchTamilText="",g.IsTransliterationEnabled=!1)},g.SearchThirukkuralsInTamil=function(b){if(d.Log(b),d.Log(f.getLocale()),b&&b.SearchTamilText)switch(a.SearchText=b.SearchTamilText,b.SearchType){case"StartsWith":e.StartsWith(b.SearchTamilText).then(h,i);break;case"EndsWith":e.EndsWith(b.SearchTamilText).then(h,i);break;default:e.SearchThirukkuralsInTamil(b.SearchTamilText).then(h,i)}},g.SearchThirukkuralsInEnglish=function(b){d.Log(b),d.Log(f.getLocale()),a.SearchText=b.SearchEnglishText,e.SearchThirukkuralsInEnglish(b.SearchEnglishText).then(h,i)},j()};angular.module("thirukkuralApp").controller("searchController",a),a.$inject=["$scope","$stateParams","$state","thirukkuralsUtil","thirukkuralsRepository","locale"]}(),function(){"use strict";var a=function(a,b,c,d,e){var f=this,g=function(a){f.ThirukkuralSections=a},h=function(a){f.ErrorMessage="An error occurred!"},i=function(){j()},j=function(){e.GetThirukkuralSections(null).then(g,h)};i()};angular.module("thirukkuralApp").controller("sectionsController",a),a.$inject=["$scope","$stateParams","$state","thirukkuralsUtil","thirukkuralsRepository"]}(),function(){"use strict";var a=function(a){var b=function(a){console.log(a)},c=function(b){return a.trustAsHtml(b)};return{Log:b,RenderHtml:c}};angular.module("thirukkuralApp").factory("thirukkuralsUtil",a),a.$inject=["$sce"]}(),function(){"use strict";var a=function(a,b){function c(c){return b.Log("repository: startsWith"),a.get(e+"thirukkuralsstartswith/"+c).then(function(a){return a.data.Data})}function d(c){return b.Log("repository: endsWith"),a.get(e+"thirukkuralsendswith/"+c).then(function(a){return a.data.Data})}var e="http://api.gokulnath.com/",f=function(c){return b.Log("repository: getThirukkural"),a.get(e+"thirukkurals/"+c).then(function(a){return a.data.Data})},g=function(c){b.Log("repository: getThirukkuralChapters");var d=e+"thirukkuralchapters/"+(null===c?"":c);return a.get(d).then(function(a){return a.data.Data})},h=function(c){b.Log("repository: getThirukkuralSections");var d=e+"thirukkuralsections/"+(null===c?"":c);return a.get(d).then(function(a){return a.data.Data})},i=function(c){b.Log("repository: getThirukkuralChapterGroups");var d=e+"thirukkuralchaptergroups/"+(null===c?"":c);return a.get(d).then(function(a){return a.data.Data})},j=function(c){return b.Log("repository: getThirukkuralsByChapters"),a.get(e+"thirukkuralchapters/"+c+"/thirukkurals").then(function(a){return a.data.Data})},k=function(c){return b.Log("repository: getThirukkuralsBySections"),a.get(e+"thirukkuralsections/"+c+"/thirukkurals").then(function(a){return a.data.Data})},l=function(c){return b.Log("repository: getThirukkuralsByChapterGroups"),a.get(e+"thirukkuralchaptergroups/"+c+"/thirukkurals").then(function(a){return a.data.Data})},m=function(c){return b.Log("repository: getThirukkuralChaptersBySection"),a.get(e+"thirukkuralsections/"+c+"/chapters").then(function(a){return a.data.Data})},n=function(c){return b.Log("repository: getThirukkuralChaptersByChapterGroup"),a.get(e+"thirukkuralchaptergroups/"+c+"/chapters").then(function(a){return a.data.Data})},o=function(c){return b.Log("repository: searchThirukkuralsInTamil"),a.get(e+"thirukkuralstamilsearch/"+c).then(function(a){return a.data.Data})},p=function(c){return b.Log("repository: searchThirukkuralsInEnglish"),a.get(e+"thirukkuralsenglishsearch/"+c).then(function(a){return a.data.Data})};return{GetThirukkural:f,GetThirukkuralChapters:g,GetThirukkuralSections:h,GetThirukkuralChapterGroups:i,GetThirukkuralsByChapters:j,GetThirukkuralsBySections:k,GetThirukkuralsByChapterGroups:l,GetThirukkuralChaptersBySection:m,GetThirukkuralChaptersByChapterGroup:n,SearchThirukkuralsInTamil:o,SearchThirukkuralsInEnglish:p,StartsWith:c,EndsWith:d}};angular.module("thirukkuralApp").factory("thirukkuralsRepository",a),a.$inject=["$http","thirukkuralsUtil"]}();